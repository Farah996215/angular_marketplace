<!-- Hero Section -->
<section class="hero-section">
  <div class="hero-background">
    <div class="hero-overlay"></div>
  </div>

  <div class="hero-container">
    <div class="hero-content">
      <h1 class="hero-title">
        Find Your
        <span class="hero-accent">Dream Car</span>
      </h1>

      <p class="hero-subtitle">
        Discover the perfect vehicle from thousands of listings.
        Luxury, performance, and reliability all in one place.
      </p>

      <div class="hero-actions">
        <button class="btn-primary hero-btn" mat-raised-button routerLink="/cars">
          <mat-icon>search</mat-icon>
          Browse Cars
        </button>

        <button class="btn-secondary hero-btn" mat-stroked-button routerLink="/signup">
          <mat-icon>add_circle</mat-icon>
          Sell Your Car
        </button>
      </div>

      <div class="hero-stats">
        <div class="stat-item">
          <div class="stat-number">10K+</div>
          <div class="stat-label">Cars Available</div>
        </div>

        <div class="stat-item">
          <div class="stat-number">500+</div>
          <div class="stat-label">Happy Customers</div>
        </div>

        <div class="stat-item">
          <div class="stat-number">50+</div>
          <div class="stat-label">Trusted Sellers</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Featured Cars Section with API -->
<section class="featured-cars-section">
  <div class="container">

    <!-- Section Header -->
    <div class="section-header">
      <h2 class="section-title">Featured Cars</h2>
      <p class="section-subtitle">
        @if (apiError) {
          Demo Data (API Connection Failed)
        } @else {
          Real car data from API Ninjas
        }
      </p>
    </div>

    <!-- Loading State -->
    @if (isLoading) {
      <div class="loading-section">
        <mat-icon class="loading-spinner">refresh</mat-icon>
        <p>Loading real car data from API...</p>
      </div>
    }

    <!-- Error State -->
    @if (apiError && !isLoading) {
      <div class="error-section">
        <mat-icon class="error-icon">error</mat-icon>
        <h3>API Connection Issue</h3>
        <p>Using demo data. Please check your API key.</p>
      </div>
    }

    <!-- Cars Grid -->
    @if (!isLoading) {
      <div class="cars-grid">
        @for (car of featuredCars; track car.id) {
          <app-car-card [car]="car"></app-car-card>
        }
      </div>
    }

    <!-- View All Button -->
    <div class="section-footer">
      <button class="btn-secondary view-all-btn" mat-stroked-button routerLink="/cars">
        View All Cars
        <mat-icon>arrow_forward</mat-icon>
      </button>
    </div>

  </div>
</section>

<!-- How It Works Section -->
<section class="how-it-works-section">
  <div class="container">

    <div class="section-header">
      <h2 class="section-title">How It Works</h2>
      <p class="section-subtitle">Get your dream car in just 3 simple steps</p>
    </div>

    <div class="steps-grid">

      <div class="step-card">
        <div class="step-icon-container">
          <div class="step-number">01</div>
          <mat-icon class="step-icon">search</mat-icon>
        </div>
        <h3 class="step-title">Browse & Search</h3>
        <p class="step-description">
          Explore thousands of cars from trusted sellers. Use our advanced filters to find exactly what you're looking for.
        </p>
      </div>

      <div class="step-card">
        <div class="step-icon-container">
          <div class="step-number">02</div>
          <mat-icon class="step-icon">message</mat-icon>
        </div>
        <h3 class="step-title">Contact Seller</h3>
        <p class="step-description">
          Connect directly with sellers. Schedule test drives, ask questions, and negotiate the best price.
        </p>
      </div>

      <div class="step-card">
        <div class="step-icon-container">
          <div class="step-number">03</div>
          <mat-icon class="step-icon">drive_eta</mat-icon>
        </div>
        <h3 class="step-title">Drive Away</h3>
        <p class="step-description">
          Complete the paperwork and drive away in your new car. We ensure a smooth and secure transaction process.
        </p>
      </div>

    </div>
  </div>
</section>

<!-- Testimonials Section -->
<section class="testimonials-section">
  <div class="container">

    <div class="section-header">
      <h2 class="section-title">What Our Customers Say</h2>
      <p class="section-subtitle">Trusted by thousands of happy car buyers</p>
    </div>

    <div class="testimonials-carousel">

      <div class="testimonial-card">
        <div class="testimonial-content">
          <div class="stars">
            <mat-icon>star</mat-icon>
            <mat-icon>star</mat-icon>
            <mat-icon>star</mat-icon>
            <mat-icon>star</mat-icon>
            <mat-icon>star</mat-icon>
          </div>
          <p class="testimonial-text">
            "Found my dream BMW X5 through this platform! The process was smooth and the seller was very professional."
          </p>
        </div>
        <div class="testimonial-author">
          <img src="pictures/majdi.jpg" alt="Majdi Aloui" class="author-avatar" />
          <div class="author-info">
            <h4 class="author-name">Majdi Aloui</h4>
            <p class="author-role">Car Enthusiast</p>
          </div>
        </div>
      </div>

      <div class="testimonial-card">
        <div class="testimonial-content">
          <div class="stars">
            <mat-icon>star</mat-icon>
            <mat-icon>star</mat-icon>
            <mat-icon>star</mat-icon>
            <mat-icon>star</mat-icon>
            <mat-icon>star</mat-icon>
          </div>
          <p class="testimonial-text">
            "As a first-time car buyer, I was nervous. But I found the perfect Honda Civic within my budget!"
          </p>
        </div>
        <div class="testimonial-author">
          <img src="pictures/nada.jpg" alt="Nada Jaouadi" class="author-avatar" />
          <div class="author-info">
            <h4 class="author-name">Nada Jaouadi</h4>
            <p class="author-role">First-time Buyer</p>
          </div>
        </div>
      </div>

      <div class="testimonial-card">
        <div class="testimonial-content">
          <div class="stars">
            <mat-icon>star</mat-icon>
            <mat-icon>star</mat-icon>
            <mat-icon>star</mat-icon>
            <mat-icon>star</mat-icon>
            <mat-icon>star_half</mat-icon>
          </div>
          <p class="testimonial-text">
            "Sold my car and bought a Tesla Model 3 on the same platform. Very reasonable commission fees!"
          </p>
        </div>
        <div class="testimonial-author">
          <img src="pictures/salim.jpg" alt="Salim Jeddi" class="author-avatar" />
          <div class="author-info">
            <h4 class="author-name">Salim Jeddi</h4>
            <p class="author-role">Business Owner</p>
          </div>
        </div>
      </div>

    </div>

    <div class="carousel-indicators">
      <button class="indicator active"></button>
      <button class="indicator"></button>
      <button class="indicator"></button>
    </div>

  </div>
</section>

<app-footer></app-footer>